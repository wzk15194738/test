<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„å…¨èƒ½å®éªŒå®¤ 3.0</title>
    <style>
        /* å…¨å±€ç¾åŒ– */
        :root {
            --primary: #4facfe;
            --bg: #f5f7fa;
            --card: rgba(255, 255, 255, 0.9);
        }
        body { font-family: sans-serif; background: var(--bg); margin: 0; padding: 20px; transition: 0.5s; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; max-width: 1200px; margin: 0 auto; }
        .card { background: var(--card); padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); transition: 0.3s; }
        .card:hover { transform: translateY(-5px); }
        h3 { margin-top: 0; color: var(--primary); font-size: 0.9rem; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        button { background: var(--primary); border: none; color: white; padding: 8px 15px; border-radius: 5px; cursor: pointer; width: 100%; margin-top: 10px; }
        #weatherDisplay { margin-top: 10px; font-size: 0.9rem; line-height: 1.4; color: #555; }
        
        /* å¤œé—´æ¨¡å¼ */
        body.dark { background: #1a1a2e; color: white; }
        body.dark .card { background: #16213e; color: white; border: 1px solid #0f3460; }
    </style>
</head>
<body>

    <h1 id="mainTitle" style="text-align:center;">æˆ‘çš„äº¤äº’å®éªŒå®¤ ğŸ§ª</h1>

    <div class="grid">
        <div class="card"><h3>1. éšæœºå˜è‰²</h3><button id="colorBtn">å˜æ¢æ ‡é¢˜é¢œè‰²</button></div>
        <div class="card"><h3>2. æ¬¢è¿è¯­</h3><input type="text" id="nameInput" placeholder="è¾“å…¥åå­—..." style="width:90%"><p id="greetText">ä½ å¥½ï¼</p></div>
        <div class="card"><h3>3. ä¸»é¢˜åˆ‡æ¢</h3><button id="themeBtn">æ·±è‰²/æµ…è‰²æ¨¡å¼</button></div>
        <div class="card"><h3>4. è®¡æ•°å™¨</h3><div style="text-align:center;"><button id="minus" style="width:30%">-</button> <span id="count">0</span> <button id="plus" style="width:30%">+</button></div></div>
        
        <div class="card">
            <h3>5. å®æ—¶å¤©æ°” (Fetch API)</h3>
            <p id="weatherDisplay">ç­‰å¾…æŸ¥è¯¢...</p>
            <button id="getWeather">ç‚¹å‡»æŠ“å–çœŸå®å¤©æ°”æ•°æ®</button>
        </div>
    </div>

   <script>
    // ğŸ’¡ å¿…é¡»åŠ ä¸Šè¿™ä¸€è¡Œå®šä¹‰ï¼Œå¦åˆ™æµè§ˆå™¨ä¸çŸ¥é“ $ æ˜¯ä»€ä¹ˆï¼
    const $ = (id) => document.getElementById(id);

    // 1. å˜è‰²åŠŸèƒ½ (è¡¥ä¸Šåˆšæ‰ä¸¢æ‰çš„é€»è¾‘)
    $('colorBtn').onclick = () => {
        $('mainTitle').style.color = `hsl(${Math.random()*360}, 70%, 50%)`;
    };

    // 2. æ¬¢è¿è¯­
    $('nameInput').oninput = (e) => {
        $('greetText').innerText = e.target.value ? `ä½ å¥½ï¼Œ${e.target.value}ï¼` : "ä½ å¥½ï¼";
    };

    // 3. ä¸»é¢˜åˆ‡æ¢
    $('themeBtn').onclick = () => document.body.classList.toggle('dark');

    // 4. è®¡æ•°å™¨
    let num = 0;
    $('plus').onclick = () => $('count').innerText = ++num;
    $('minus').onclick = () => $('count').innerText = --num;

    // 5. å¤©æ°”æŠ“å–é€»è¾‘
    $('getWeather').onclick = () => {
        const display = $('weatherDisplay');
        display.innerText = "ğŸ›°ï¸ æ­£åœ¨ä»æ°”è±¡ç«™æŠ“å–æ•°æ®...";
        
        fetch('https://wttr.in/Beijing?format=j1') 
            .then(res => {
                if (!res.ok) throw new Error('æœåŠ¡å™¨å¿™');
                return res.json();
            })
            .then(data => {
                const current = data.current_condition[0];
                const temp = current.temp_C;
                const desc = current.lang_zh ? current.lang_zh[0].value : current.weatherDesc[0].value;
                
                display.innerHTML = `
                    <b>åŒ—äº¬</b> (ç¤ºä¾‹) <br>
                    ğŸŒ¡ï¸ æ°”æ¸©: ${temp}Â°C <br>
                    â˜ï¸ çŠ¶æ€: ${desc}
                `;
            })
            .catch(err => {
                display.innerHTML = "âŒ æ¥å£è¶…æ—¶ï¼Œè¯·å°è¯•ï¼š<br><a href='https://wttr.in' target='_blank'>ç‚¹å‡»è¿™é‡Œç›´æ¥çœ‹ç½‘é¡µç‰ˆå¤©æ°”</a>";
            });
    };
</script>
</body>

</html>


